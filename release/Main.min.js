var __extends=this&&this.__extends||function(){var r=function(e,t){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n))e[n]=t[n]};return r(e,t)};return function(e,t){r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Laya.init(600,400,Laya.WebGL);var caller={};var func1=function(){puremvc.Facade.getInstance().sendNotification("CUI_B")};var func2=function(){puremvc.Facade.getInstance().sendNotification("MMI_C");puremvc.Facade.getInstance().sendNotification("MOD_C")};var Facade=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.getInstance=function(){return puremvc.Facade.inst||new t};return t}(puremvc.Facade);var TestCommand=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.execute=function(e,t){console.log("test x:"+e,", y:"+t)};return t}(puremvc.SimpleCommand);function func(e,t){console.log("func x:"+e,", y:"+t)}var TestMediator=function(n){__extends(e,n);function e(e,t){return n.call(this,e,t)||this}e.prototype.listNotificationInterests=function(){this.$handleNotification("MMI_A",this.$a);this.$handleNotification("CUI_A",this.$a);this.$handleNotification("MMI_A",this.$a)};e.prototype.$a=function(e,t){console.log("a x:"+e,", y:"+t)};e.NAME="TestMediator";return e}(puremvc.Mediator);var CUI_A=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.execute=function(){this.facade.sendNotification("MMI_B")};return t}(puremvc.SimpleCommand);var MMI_B=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.execute=function(){};return t}(puremvc.SimpleCommand);var MMI_A=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.prototype.execute=function(){this.facade.sendNotification("CUI_A")};return t}(puremvc.SimpleCommand);var A=function(t){__extends(e,t);function e(){var e=t.call(this)||this;e.facade.registerObserver("MSG_C",e.$func,e);e.facade.registerObserver("MSG_B",function(){},e);e.facade.sendNotification("MSG_C",[0,1]);return e}e.prototype.$func=function(){this.facade.sendNotification("MSG_B")};return e}(puremvc.Notifier);var TestProxy=function(e){__extends(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}t.NAME="TestProxy";return t}(puremvc.Proxy);var B=function(e){__extends(t,e);function t(){return e.call(this)||this}return t}(puremvc.Notifier);setTimeout(function(){Facade.getInstance().sendNotification("A");puremvc.Facade.getInstance().registerCommand("TEST",TestCommand);puremvc.Facade.getInstance().registerObserver("MMI_A",func1,caller);puremvc.Facade.getInstance().registerObserver("CUI_A",func1,caller);puremvc.Facade.getInstance().registerObserver("MMI_B",func1,caller);puremvc.Facade.getInstance().registerObserver("CUI_B",func2,caller);puremvc.Facade.getInstance().registerObserver("MMI_C",function(){},{});puremvc.Facade.getInstance().registerObserver("GUI_C",function(){},{});puremvc.Facade.getInstance().sendNotification("CUI_A",[0,1]);puremvc.Facade.getInstance().removeObserver("MMI_A",func1,caller);puremvc.Facade.getInstance().removeObserver("CUI_A",func1,caller);puremvc.Facade.getInstance().removeObserver("MMI_B",func1,caller);puremvc.Facade.getInstance().removeObserver("CUI_B",func2,caller);puremvc.Facade.getInstance().registerProxy(new TestProxy(TestProxy.NAME));puremvc.Facade.getInstance().registerMediator(new TestMediator(TestMediator.NAME,1));puremvc.Facade.getInstance().registerCommand("MMI_A",MMI_A);puremvc.Facade.getInstance().registerCommand("MMI_B",MMI_B);puremvc.Facade.getInstance().registerCommand("CUI_A",CUI_A);new A;puremvc.Facade.getInstance().sendNotification("MMI_A",[0,1])},1e3);console.log("---");console.log("-333--");console.log("---");